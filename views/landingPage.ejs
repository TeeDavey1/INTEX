<!-- Landing Page -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <title><%= title%></title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
</head>
<body>
  <%- include('partials/header') %>

  <div class="headerImg">
    <img src="images/TSP Home.jpg" alt="Smiling Unhoused Man">
    <div class="blackTint"></div>
    <div class="headerImgHeader">
      <h1>Turtle Shelter Project</h1>
      <h2><i>Every life has value. Every person can serve.</i></h2>
      <div class="headerImgButtons">
        <a class="donateButton" href="https://turtleshelterproject.org/donate">Donate</a>
        <a class="learnMoreButton" href="/about">Learn More</a>  
      </div>
    </div>
</div>

<main>
<div class="intro">
  <h1 class="intro-text">
      What is a turtle shelter vest? A high tech but simple solution to help save lives - a portable "shelter" you can carry with you, just like a turtle...
      and <b>YOU</b> can help!
  </h1>
</div>
</main>

  <section id="statistics">
      <div class="stat">
          <h2 class="stat-number" data-value="908">0</h2>
          <p class="stat-label">Vests Distributed in November of this Year</p>
      </div>
      <div class="stat">
          <h2 class="stat-number" data-value="5900">0</h2>
          <p class="stat-label">Total Vests Delivered</p>
      </div>
      <div class="stat">
          <h2 class="stat-number" data-value="12843">0</h2>
          <p class="stat-label">People Served</p>
      </div>
  </section>

    <main>
      <div class="quote-container">
          <div class="quote-left">
              <p>
                  One winter when Jen was homeless, 
                  <span class="highlight-number">7</span><br> of her friends froze to death.
              </p>
          </div>
          <div class="quote-right">
              <p>
                  Jen is no longer homeless and has figured out a solution: 
                  <strong>The Turtle Shelter</strong> is a high-tech, low-cost foam vest to keep a person warm 
                  10 degrees below zero. <strong>Help SAVE lives and alleviate suffering.</strong> <br>YOU can request vests for your 
                  community - and you can make vests and invite your friends, business colleagues, 
                  church congregation, or club too!
              </p>
          </div>
      </div>
      <br><br>
      <section>
        <div class='tableauPlaceholder' id='viz1733447072690' style='position: relative; border: 2px solid #228B22; border-radius: 5px;'>
          <noscript><a href='#'><img alt='Unsheltered Homeless Population by State ' 
            src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book1_17333597815060&#47;Sheet2&#47;1_rss.png' />
          </a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' 
            value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> 
            <param name='site_root' value='' /><param name='name' value='Book1_17333597815060&#47;Sheet2' />
            <param name='tabs' value='no' /><param name='toolbar' value='yes' />
            <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book1_17333597815060&#47;Sheet2&#47;1.png' /> 
            <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' />
            <param name='filter' value='publish=yes' /></object></div>                
      <script type='text/javascript'>                    var divElement = document.getElementById('viz1733447072690');                    
      var vizElement = divElement.getElementsByTagName('object')[0];                    
      vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    
      var scriptElement = document.createElement('script');                    
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                   
      vizElement.parentNode.insertBefore(scriptElement, vizElement);                
      </script>
      </section>
    </main>
  <%- include('partials/footer') %>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
  const statsSection = document.getElementById("statistics");
  const statNumbers = document.querySelectorAll(".stat-number");

  // Function to animate number counting
  function animateNumbers() {
    statNumbers.forEach((num) => {
      const targetValue = +num.getAttribute("data-value");
      let currentValue = 0;
      const increment = Math.ceil(targetValue / 50); // Adjust speed by changing the divisor

      const updateNumber = () => {
        currentValue += increment;
        if (currentValue > targetValue) currentValue = targetValue;
        num.textContent = currentValue;
        if (currentValue < targetValue) {
          requestAnimationFrame(updateNumber);
        }
      };

      updateNumber();
    });
  }

  // Observe when statistics section is in view
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          statsSection.classList.add("visible");
          animateNumbers();
        }
      });
    },
    { threshold: 0.5 } // Trigger when 50% of the section is visible
  );

  observer.observe(statsSection);
});
</script>
</html>
